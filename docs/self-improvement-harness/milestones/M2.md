# M2 — Enforcement & Sandboxing

Objective
Tie capability profiles to real enforcement with auditable adapters and safe defaults.

Scope
- Map READ_ONLY/WORKSPACE_WRITE/SYSTEM_WRITE/GODMODE to:
  - Linux: Landlock+seccomp or gVisor (runsc) where available
  - macOS: Seatbelt profiles
- Network allowlists per profile; fail‑closed behavior when unspecified.
- Approval policy integration: blocking on dangerous actions when required.
- Clear diagnostics and remediation hints in TUI.
- See `enforcement-adapters.md` and `enforcement-test-matrix.md` for details.

Out of scope
- Kernel‑level distribution; ship light wrappers only.

Acceptance
- A representative set of commands is permitted/denied per profile as expected.
- Denials show a concise, human‑readable error with next‑steps.
- Logs include enough detail to audit decisions without leaking secrets.

Test plan
- Matrix of profiles × command categories (read/list/run/network/edit system).
- Golden expectations runnable locally; skip if sandbox unavailable (seatbelt/CI).
