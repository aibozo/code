# M3 — Memory & Episodes

Objective
Persist phase artifacts and enable retrieval/compaction to keep the perpetual loop grounded.

Scope
- Episode store: `orchestrator/episodes/<ts>/` → vector + graph memory ingestion.
- Retrieval: fetch top‑K prior episodes by topic/context; inject as plain text.
- Compaction strategies: summarization + dedup + pinning recent successes.
- Embedder fallback and offline determinism when external API unavailable.

Acceptance
- Episodes are ingested and retrievable by topic/context.
- Compaction keeps context within budget without losing key details.

Test plan
- Synthetic episodes; retrieval quality sanity checks; compaction invariants.
